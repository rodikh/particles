<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Particles</title>

    <link href="/css/site.css" rel="stylesheet">
</head>
<body>

    <header class="container-full text-center page-header header-compact">
        <h1>Particles</h1>
        <h2 class="lead">Quad-Tree Collision Detection</h2>
    </header>
    <div class="container page">
        <canvas id="main" height="600"></canvas>

        <div class="console">
            <div>
                <span>Number of Checks for collision detection: <span id="numChecks"></span></span>
            </div>
        </div>
    </div>

<script type="text/javascript" src="../../bower_components/dat-gui/build/dat.gui.min.js"></script>
<script src="../common/js/utils.js"></script>

<script src="../common/js/Particle.js"></script>
<script src="js/QuadTree.js"></script>
<script src="../common/js/ParticleEngine.js"></script>

<script>
    var canvas = document.getElementById('main');
    canvas.width = window.innerWidth;
    var ctx = canvas.getContext('2d');

    var engine = new ParticleEngine(canvas, {
        useTree: true,
        particleLines: true,
        particlesAmount: 100,
        maxVelocity: 0.5,
        linesMaxLength: 20
    });

    function tick() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        engine.draw();
    }

    setInterval(tick, 1000 / 60);

    if (!window.gui) {
        window.gui = new dat.GUI();
    }
    var folder = gui.addFolder('Particle Lines');
    folder.add(engine, 'useTree');
    folder.add(engine, 'particleLines');
    folder.add(engine, 'gridLines');
    folder.add(engine, 'nodeConnections');
</script>
</body>
</html>
